<h1>TICTACTOE</h1>
<p>(in development)</p>
<br><br>

<br><br><br><br>
<br><br>
<p id="textStatus">Go Player X</p>
<br><br>

<tr id="row1">
  <th ><img id="1" onclick="playerMove(1)" src="/assets/blank.png" value="0"/>
  </th>
  <th ><img id="2" onclick="playerMove(2)" src="/assets/blank.png" value="0"/>
  </th>
  <th ><img id="3" onclick="playerMove(3)" src="/assets/blank.png" value="0"/>
  </th>
</tr>
<br>
<tr id="row2">
    <th><img id="4" onclick="playerMove(4)" src="/assets/blank.png" value="0"/>
    </th>
    <th><img id="5" onclick="playerMove(5)" src="/assets/blank.png" value="0"/>
    </th>
    <th><img id="6" onclick="playerMove(6)" src="/assets/blank.png" value="0"/>
    </th>
  </tr>
<br>
<tr id="row3">
    <th><img id="7" onclick="playerMove(7)" src="/assets/blank.png" value="0"/>
    </th>
    <th><img id="8" onclick="playerMove(8)" src="/assets/blank.png" value="0"/>
    </th>
    <th><img id="9" onclick="playerMove(9)" src="/assets/blank.png" value="0"/>
    </th>
</tr>
<br><br>
<button id="click" onclick="newGame()"> Play/new </button>
<button id="local" onclick="localswitch()" hidden="true">Switch to Local</button>

<script>
var count = 1;
var grid = [3,3,3,3,3,3,3,3,3];
var servOrLocal = 0 ;
var textarr = [["../img/blank.png", ".../img/blank.png", "/img/X.png", "/img/O.png"], ["http://localhost:3000/assets/blank.png","http://localhost:3000/assets/blank.png", "http://localhost:3000/assets/X.png", "http://localhost:3000/assets/O.png"]];
var currentArr = textarr[0];



function developer(){
  document.getElementById("local").hidden = false;
}
// developer(); // uncomment this like if you want to play the game locally

function localswitch(){
 (servOrLocal%2)?(currentArr=textarr[1]):(currentArr=textarr[0]);
 servOrLocal++;
 (document.getElementById("local").innerHTML == "Switch to Local")?(document.getElementById("local").innerHTML = "Switch to Local"):(document.getElementById("local").innerHTML = "Switch to Server");

}
localswitch();
localswitch();

function newGame(){
  for (var i = 1; i<10;i++){
    document.getElementById(i).src = currentArr[0];
  }
  count = 1;
  (count%2==0)?(document.getElementById("textStatus").innerHTML = "Go player O"):(document.getElementById("textStatus").innerHTML = "Go player X");
  grid = [null,null,null,null,null,null,null,null,null];
}
// this function updates the virtual grid
function gridupdate(){
  for(var i=0;i<9;i++){
    grid[i] = document.getElementById(i+1).value ;
  }
}

function wincheck(){
  if (grid[0]==grid[3] && grid[0]==grid[6] && grid[0]==1) {
      document.getElementById("textStatus").innerHTML = "Player O has Won";
  }
  if (grid[1]==grid[4] && grid[1]==grid[7] && grid[1]==1) {
      document.getElementById("textStatus").innerHTML = "Player O has Won";
  }
  if (grid[2]==grid[5] && grid[2]==grid[8] && grid[2]==1) {
      document.getElementById("textStatus").innerHTML = "Player O has Won";
  }
  if (grid[0]==grid[1] && grid[0]==grid[2] && grid[0]==1) {
      document.getElementById("textStatus").innerHTML = "Player O has Won";
  }
  if (grid[3]==grid[4] && grid[3]==grid[5] && grid[3]==1) {
      document.getElementById("textStatus").innerHTML = "Player O has Won";
  }
  if (grid[6]==grid[7] && grid[6]==grid[8] && grid[6]==1) {
      document.getElementById("textStatus").innerHTML = "Player O has Won";
  }
  if (grid[0]==grid[4] && grid[0]==grid[8] && grid[0]==1) {
      document.getElementById("textStatus").innerHTML = "Player O has Won";
  }
  if (grid[2]==grid[4] && grid[2]==grid[6] && grid[2]==1) {
      document.getElementById("textStatus").innerHTML = "Player O has Won";
  }
  // playerx
  if (grid[0]==grid[3] && grid[0]==grid[6] && grid[0]==2) {
      document.getElementById("textStatus").innerHTML = "Player X has Won";
  }
  if (grid[1]==grid[4] && grid[1]==grid[7] && grid[1]==2) {
      document.getElementById("textStatus").innerHTML = "Player X has Won";
  }
  if (grid[2]==grid[5] && grid[2]==grid[8] && grid[2]==2) {
      document.getElementById("textStatus").innerHTML = "Player X has Won";
  }
  if (grid[0]==grid[1] && grid[0]==grid[2] && grid[0]==2) {
      document.getElementById("textStatus").innerHTML = "Player X has Won";
  }
  if (grid[3]==grid[4] && grid[3]==grid[5] && grid[3]==2) {
      document.getElementById("textStatus").innerHTML = "Player X has Won";
  }
  if (grid[6]==grid[7] && grid[6]==grid[8] && grid[6]==2) {
      document.getElementById("textStatus").innerHTML = "Player X has Won";
  }
  if (grid[0]==grid[4] && grid[0]==grid[8] && grid[0]==2) {
      document.getElementById("textStatus").innerHTML = "Player X has Won";
  }
  if (grid[2]==grid[4] && grid[2]==grid[6] && grid[2]==2) {
      document.getElementById("textStatus").innerHTML = "Player X has Won";
  }
}

function playerMove(space){
  if (document.getElementById(space).src ==  currentArr[1]){
    if (count % 2 == 1){
      document.getElementById(space).src = currentArr[2] ;
      document.getElementById(space).value = 2 ;
      count++;}
    else {
      document.getElementById(space).src = currentArr[3] ;
      document.getElementById(space).value = 1 ;
      count++;
    }
    gridupdate();
    wincheck();
  }
  console.log (grid);
  console.log (count);
}




</script>
